{"version":3,"sources":["Components/Settings sync /^/.*$","Components/form-materialui.js","Components/face.js","Components/face match.js","Components/Home.js","Components/Help.js","Components/Settings.js","App.js","serviceWorker.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","history","createBrowserHistory","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","SignUp","props","classes","React","useState","setSettings","fields","setFields","useEffect","setTitle","setting","parsed","require","parse","window","location","search","console","log","navigator","mediaDevices","enumerateDevices","then","devices","forEach","device","kind","label","deviceId","catch","err","name","message","handleSubmit","a","firstName","lastName","gender","email","date","localStorage","setItem","JSON","stringify","images","abc","push","go","alert","handleChange","event","target","value","Container","component","maxWidth","CssBaseline","className","Typography","variant","noValidate","Grid","container","item","xs","sm","TextField","onChange","autoComplete","required","fullWidth","autoFocus","FormControl","FormLabel","RadioGroup","aria-label","FormControlLabel","control","Radio","type","defaultValue","Date","now","InputLabelProps","shrink","Button","color","onClick","Box","mt","root","justifyContent","textAlign","padding","text","Face","webcamRef","useRef","settings","vidHeight","vidWidth","croppedImages","setCroppedImages","ogImages","setOgImages","inside","setInside","close","setClose","align","setAlign","bright","setBright","faceStat","setFaceStat","loading","setLoading","faceLoading","setFaceLoading","queryString","loadModels","Promise","all","faceapi","ctx","document","getElementById","getContext","strokeStyle","setLineDash","strokeRect","boxPercentX","boxPercentY","boxWidth","boxHeight","font","fillText","performChecks","video","canvas","displaySize","height","interval","setInterval","current","withFaceLandmarks","detections","resizedDetections","clearRect","alignedRect","score","minFaceScore","pTopLeft","x","box","topLeft","y","pBottomRight","bottomRight","isInside","bb","ix","iy","ax","ay","insideCheck","drawDetections","drawFaceLandmarks","handleInside","dist","landmarks","getRightEye","_x","_y","getLeftEye","slope","minRes","closeCheck","handleClose","minEyeDist","maxEyeDist","minSlope","maxSlope","alignCheck","handleAlign","al","cropAndSave","p","og","srcimg","getScreenshot","Jimp","read","img","imageSrc","callback","r","g","b","avg","colorSum","data","len","length","Math","floor","brightness","getImageLightness","bitmap","minBright","maxBright","brightnessCheck","handleBright","getBase64","AUTO","src","undefined","style","rotateAlign","righteye","lefteye","angle","calculateAngle","crop","rotate","clearInterval","handleCaptured","matchImages","base64ToEl","withFaceDescriptors","img1","img2","img3","img4","detection1","detection2","detection3","detection4","distance1","descriptor","distance2","distance3","faceMatchDist","finalArray","fullImg","croppedImg","timeStamp","finalObj","userData","getItem","organization","project","fetch","server_url","method","server_method","headers","body","response","json","handleSameFace","handleNotSameFace","i","imgEl","border","setTimeout","createElement","A1x","A1y","A2x","A2y","B1x","B1y","B2x","B2y","dAx","dAy","dBx","dBy","atan2","degree_angle","PI","status","fillStyle","justify","Paper","CircularProgress","audio","ref","screenshotFormat","marginBottom","FaceMatch","loadSettings","setcroppedImage","setogImage","duration","onSubmit","ogImage","croppedImage","sample","client_matching","matching_mode","server_matching","call","appBar","transition","transitions","create","easing","sharp","leavingScreen","appBarShift","marginLeft","easeOut","enteringScreen","menuButton","marginRight","hide","drawer","flexShrink","drawerPaper","drawerHeader","mixins","toolbar","content","flexGrow","contentShift","Home","useTheme","open","setOpen","AppBar","position","clsx","Toolbar","IconButton","edge","noWrap","Drawer","anchor","direction","Divider","List","ListItem","button","key","ListItemIcon","ListItemText","primary","Help","help","minHeight","helpArray","v","title","para","table","Setting","Regsetting","Matsetting","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","entries","row","scope","toString","styles","flex","toolbarMargin","aboveDrawer","zIndex","MyToolbar","withStyles","onMenuClick","MyDrawer","onClose","onItemClick","exact","path","fluid","getFullYear","App","setDrawer","toggleDrawer","route","titles","Boolean","hostname","match","ReactDOM","render","StrictMode","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.4fa011fa.chunk.js","sourcesContent":["var map = {\n\t\"./settings\": 80,\n\t\"./settings.json\": 80\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 120;","import React, { useEffect } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport { createBrowserHistory } from \"history\";\r\n\r\n\r\nconst history = createBrowserHistory();\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function SignUp(props) {\r\n  const classes = useStyles();\r\n  const [settings, setSettings] = React.useState({})\r\n  const [fields, setFields] = React.useState({})\r\n\r\n  \r\n\r\n\r\n  useEffect(() => {\r\n    props.setTitle(\"Face Registration Form\")\r\n\r\n    var setting = {}\r\n    const queryString = require('query-string');\r\n    const parsed = queryString.parse(window.location.search);\r\n    if (parsed.setting) {\r\n      setting = require(\"./Settings/\" + parsed.setting)\r\n      //setting can be accessed from anywhere in the component\r\n      setSettings(setting)\r\n    }\r\n    else {\r\n      setting = require(\"./Settings/settings.json\")\r\n      setSettings(setting)\r\n      console.log(setting, \"settings\")\r\n    }\r\n    if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices) {\r\n      console.log(\"enumerateDevices() not supported.\");\r\n      return;\r\n    }\r\n    else {\r\n      //Information about webcam\r\n      navigator.mediaDevices.enumerateDevices()\r\n        .then(function (devices) {\r\n          devices.forEach(function (device) {\r\n            console.log(device.kind + \": \" + device.label +\r\n              \" id = \" + device.deviceId);\r\n          });\r\n        })\r\n        .catch(function (err) {\r\n          console.log(err.name + \": \" + err.message);\r\n        });\r\n    }\r\n  },[])\r\n\r\n  const handleSubmit=async()=>{\r\n    console.log(fields,\"fielsa\")\r\n    if(fields.firstName && fields.lastName && fields.gender && fields.email && fields.date){\r\n    localStorage.setItem('userData', JSON.stringify(fields))\r\n    var finalObj={\r\n      images:{abc:\"aaa\"},\r\n      fields:fields\r\n    }\r\n    history.push(\"/face\")\r\n    history.go(0)\r\n  }\r\n  else{\r\n    alert(\"Please Fill All Fields\")\r\n  }\r\n\r\n  }\r\n\r\n  const handleChange = (event) => {\r\n    setFields({ ...fields, [event.target.name]: event.target.value });\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          General Form\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                onChange={handleChange}\r\n                autoComplete=\"fname\"\r\n                name=\"firstName\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"firstName\"\r\n                label=\"First Name\"\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                onChange={handleChange}\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"lastName\"\r\n                label=\"Last Name\"\r\n                name=\"lastName\"\r\n                autoComplete=\"lname\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <FormControl component=\"fieldset\">\r\n                <FormLabel component=\"legend\">Gender</FormLabel>\r\n                <RadioGroup aria-label=\"gender\" name=\"gender\" onChange={handleChange}>\r\n                  <FormControlLabel value=\"female\" control={<Radio />} label=\"Female\" />\r\n                  <FormControlLabel value=\"male\" control={<Radio />} label=\"Male\" />\r\n                  <FormControlLabel value=\"other\" control={<Radio />} label=\"Other\" />\r\n                </RadioGroup>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                onChange={handleChange}\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                onChange={handleChange}\r\n                name=\"date\"\r\n                id=\"date\"\r\n                label=\"Date\"\r\n                type=\"date\"\r\n                fullWidth\r\n                defaultValue={() => Date.now()}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          {/* <Link to=\"/face\"> */}\r\n            <Button\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={handleSubmit}\r\n          >\r\n            Submit\r\n          </Button>\r\n          {/* </Link> */}\r\n        </form>\r\n      </div>\r\n      <Box mt={5}>\r\n      </Box>\r\n    </Container>\r\n  );\r\n}","import React, { useEffect } from 'react'\r\nimport '../App.css';\r\nimport * as faceapi from 'face-api.js';\r\nimport Webcam from \"react-webcam\";\r\nimport Jimp from 'jimp'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { Typography } from '@material-ui/core';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    justifyContent: 'center',\r\n    textAlign: 'center',\r\n    marginTop:'30px'\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n  },\r\n}));\r\n\r\n\r\nfunction Face(props) {\r\n\r\n  const classes = useStyles();\r\n  const webcamRef = React.useRef(null);\r\n  const [settings, setSettings] = React.useState({})\r\n  const vidHeight = settings.vidHeight;\r\n  const vidWidth = settings.vidWidth;\r\n  const [croppedImages, setCroppedImages] = React.useState([])\r\n  const [ogImages, setOgImages] = React.useState([])\r\n  const [inside, setInside] = React.useState(\"\")\r\n  const [close, setClose] = React.useState(\"\")\r\n  const [align, setAlign] = React.useState(\"\")\r\n  const [bright, setBright] = React.useState(\"\")\r\n  const [faceStat, setFaceStat] = React.useState(\"\")\r\n  const [loading, setLoading] = React.useState(true)\r\n  const [faceLoading, setFaceLoading] = React.useState(false)\r\n\r\n\r\n\r\n  useEffect(async() => {\r\n\r\n  props.setTitle(\"Face Registration\")\r\n\r\n    var setting = {}\r\n    const queryString = require('query-string');\r\n    const parsed = queryString.parse(window.location.search);\r\n    if (parsed.setting) {\r\n      setting = require(\"./Settings/\" + parsed.setting)\r\n      //setting can be accessed from anywhere in the component\r\n      setSettings(setting)\r\n      loadModels(setting)\r\n    }\r\n    else {\r\n      setting = require(\"./Settings/settings.json\")\r\n      setSettings(setting)\r\n      loadModels(setting)\r\n   \r\n      console.log(setting, \"settings\")\r\n    }\r\n\r\n  }, [])\r\n\r\n\r\n  const loadModels = (setting) => {\r\n    Promise.all([\r\n      faceapi.loadFaceLandmarkModel('models'),\r\n      faceapi.loadTinyFaceDetectorModel('models'),\r\n\r\n    ]).then(() => {\r\n      setLoading(false)\r\n      var c = document.getElementById(\"canvas1\")\r\n      var ctx = c.getContext(\"2d\")\r\n      ctx.strokeStyle = \"#FF0000\";\r\n      ctx.setLineDash([6]);\r\n      console.log(setting.vidWidth, setting.vidHeight)\r\n      ctx.strokeRect((setting.vidWidth / 100) * setting.boxPercentX, (setting.vidHeight / 100) * setting.boxPercentY, setting.boxWidth * setting.vidHeight, setting.vidHeight*setting.boxHeight );\r\n      ctx.font = \"12px Arial\";\r\n      ctx.fillText(\"Come closer\", 10, 20);\r\n      ctx.fillText(\"Keep face straight and front looking\", 10, 40);\r\n      // console.log(\"loaded\")\r\n    })\r\n  }\r\n\r\n  function performChecks(e) {\r\n    const video = webcamRef;\r\n    //Creating a canvas to add overlay image\r\n    const canvas = document.getElementById(\"canvas\")\r\n    const displaySize = { width: vidWidth, height: vidHeight };\r\n    faceapi.matchDimensions(canvas, displaySize);\r\n\r\n    //Asynchronusly get detections from the video Stream\r\n    var interval = setInterval(async () => {\r\n\r\n      const detections = await faceapi\r\n        .detectAllFaces(video.current.video, new faceapi.TinyFaceDetectorOptions()) //Face Detectors\r\n        .withFaceLandmarks() // Get cordinates of landmarks\r\n      // Resize and Display the detections on the video frame using canvas\r\n      const resizedDetections = faceapi.resizeResults(detections, displaySize);\r\n      // setPrevFace(resizedDetections[0])\r\n\r\n      canvas.getContext('2d').clearRect(0, 0, canvas.width, canvas.height);\r\n      if (resizedDetections[0] && resizedDetections[0].alignedRect.score > settings.minFaceScore) {\r\n        var pTopLeft = { x: resizedDetections[0].alignedRect.box.topLeft.x, y: resizedDetections[0].alignedRect.box.topLeft.y }\r\n        var pBottomRight = { x: resizedDetections[0].alignedRect.box.bottomRight.x, y: resizedDetections[0].alignedRect.box.bottomRight.y }\r\n        var bb = { ix: (vidWidth / 100) * 21, iy: (vidHeight / 100) * 10, ax: (vidWidth / 100) * 77, ay: (vidHeight / 100) * 90 }\r\n\r\n        //checking if face is inside the box.\r\n        if ((isInside(pTopLeft, bb) && isInside(pBottomRight, bb)) || !settings.insideCheck) {\r\n          faceapi.draw.drawDetections(canvas, resizedDetections);\r\n          faceapi.draw.drawFaceLandmarks(canvas, resizedDetections);\r\n          handleInside(false)\r\n          const dist = faceapi.euclideanDistance([resizedDetections[0].landmarks.getRightEye()[0]._x, resizedDetections[0].landmarks.getRightEye()[0]._y], [resizedDetections[0].landmarks.getLeftEye()[0]._x, resizedDetections[0].landmarks.getLeftEye()[0]._y])\r\n          const slope = (resizedDetections[0].landmarks.getLeftEye()[0]._y - resizedDetections[0].landmarks.getRightEye()[0]._y) / (resizedDetections[0].landmarks.getLeftEye()[0]._x - resizedDetections[0].landmarks.getRightEye()[0]._x)\r\n          //checking if height and width are greater than 200px\r\n          if ((resizedDetections[0].alignedRect.box.width > settings.minRes && resizedDetections[0].alignedRect.box.height > settings.minRes) || !settings.closeCheck) {\r\n            handleClose(false)\r\n            //checking if face is properly aligned.\r\n            if (((dist > settings.minEyeDist && dist < settings.maxEyeDist) && (slope > settings.minSlope && slope < settings.maxSlope)) || !settings.alignCheck) {\r\n              Promise.all([\r\n                handleAlign(false)\r\n              ])\r\n                .then(() => {\r\n                  var al = resizedDetections[0].landmarks.align()\r\n                  // console.log(resizedDetections[0])\r\n                  cropAndSave(e, al, interval, canvas,resizedDetections[0])\r\n                })\r\n            }\r\n            else {\r\n              handleAlign(true)\r\n            }\r\n          }\r\n          else {\r\n            handleClose(true)\r\n          }\r\n        }\r\n        else {\r\n          handleInside(true)\r\n        }\r\n      }\r\n    }, 500)\r\n\r\n  }\r\n\r\n  const isInside = (p, bb) => {\r\n    if (bb.ix <= p.x && p.x <= bb.ax && bb.iy <= p.y && p.y <= bb.ay) {\r\n      return true\r\n    }\r\n\r\n    else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  const cropAndSave = (e, box, interval, canvas,resizedDetections) => {\r\n\r\n    const images = croppedImages\r\n    var og = ogImages\r\n    var srcimg = webcamRef.current.getScreenshot();\r\n\r\n    Jimp.read(srcimg)\r\n      .then((img) => {\r\n\r\n        getImageLightness(img.bitmap, function (brightness) {\r\n          console.log(brightness)\r\n          //checking if brightness is not too high and not too low.\r\n          if ((brightness > settings.minBright && brightness < settings.maxBright) || !settings.brightnessCheck) {\r\n            handleInside(false)\r\n            handleAlign(false)\r\n            handleClose(false)\r\n            handleBright(false)\r\n            img.getBase64(Jimp.AUTO, async (err, src) => {\r\n              og[e.target.id] = src\r\n              setOgImages(og)\r\n              if (og[0] !== undefined && og[1] !== undefined && og[2] !== undefined && og[3] !== undefined) {\r\n                document.getElementById(\"submit\").style.display = \"inline\"\r\n              }\r\n            })\r\n   \r\n            if(settings.rotateAlign){\r\n            var righteye = resizedDetections.landmarks.getRightEye()[0]\r\n            var lefteye = resizedDetections.landmarks.getLeftEye()[0]\r\n            var angle = calculateAngle(righteye._x, righteye._y,lefteye._x, lefteye._y,30,0,60,0)\r\n            console.log(angle,\"angle\")\r\n            \r\n            img.crop(box.x, box.y, box.width, box.height)\r\n            img.rotate(angle)\r\n          }\r\n          else{\r\n            img.crop(box.x, box.y, box.width, box.height)\r\n          }\r\n            \r\n            \r\n            img.getBase64(Jimp.AUTO, async (err, src) => {\r\n              clearInterval(interval)\r\n              handleCaptured(src,e,canvas,images)\r\n              setCroppedImages(images);\r\n            })\r\n          }\r\n          else {\r\n            handleBright(true)\r\n          }\r\n        })\r\n\r\n      })\r\n  }\r\n\r\n  const matchImages = async (e) => {\r\n    setFaceLoading(true)\r\n    Promise.all([\r\n      faceapi.loadFaceRecognitionModel('models'),\r\n      faceapi.loadSsdMobilenetv1Model('models')\r\n    ])\r\n      .then(async () => {\r\n        //detecting faces with descriptors\r\n        const img1 = await faceapi.detectAllFaces(base64ToEl(ogImages[0]), new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceDescriptors();\r\n        const img2 = await faceapi.detectAllFaces(base64ToEl(ogImages[1]), new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceDescriptors();\r\n        const img3 = await faceapi.detectAllFaces(base64ToEl(ogImages[2]), new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceDescriptors();\r\n        const img4 = await faceapi.detectAllFaces(base64ToEl(ogImages[3]), new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceDescriptors();\r\n        const displaySize = { width: vidWidth, height: vidHeight };\r\n        //resizing detections\r\n        var detections = {\r\n          detection1: faceapi.resizeResults(img1, displaySize),\r\n          detection2: faceapi.resizeResults(img2, displaySize),\r\n          detection3: faceapi.resizeResults(img3, displaySize),\r\n          detection4: faceapi.resizeResults(img4, displaySize),\r\n        }\r\n\r\n        //getting eucledian distance between detections. Less means more close\r\n        if (detections.detection1[0] && detections.detection2[0] && detections.detection3[0] && detections.detection4[0]) {\r\n          const distance1 = faceapi.euclideanDistance(detections.detection1[0].descriptor, detections.detection2[0].descriptor);\r\n          const distance2 = faceapi.euclideanDistance(detections.detection1[0].descriptor, detections.detection3[0].descriptor);\r\n          const distance3 = faceapi.euclideanDistance(detections.detection1[0].descriptor, detections.detection4[0].descriptor);\r\n          if (distance1 < settings.faceMatchDist && distance2 < settings.faceMatchDist && distance3 < settings.faceMatchDist) {\r\n            var finalArray = [\r\n              {\r\n                fullImg: ogImages[0],\r\n                croppedImg: croppedImages[0],\r\n                resizedDetections: detections.detection1,\r\n                timeStamp: Date.now()\r\n              },\r\n              {\r\n                fullImg: ogImages[0],\r\n                croppedImg: croppedImages[1],\r\n                resizedDetections: detections.detection2,\r\n                timeStamp: Date.now()\r\n              },\r\n              {\r\n                fullImg: ogImages[2],\r\n                croppedImg: croppedImages[2],\r\n                resizedDetections: detections.detection3,\r\n                timeStamp: Date.now()\r\n              },\r\n              {\r\n                fullImg: ogImages[3],\r\n                croppedImg: croppedImages[3],\r\n                resizedDetections: detections.detection4,\r\n                timeStamp: Date.now()\r\n              }\r\n            ]\r\n\r\n            var finalObj = {\r\n              userData: JSON.parse(localStorage.getItem(\"userData\")),\r\n              images: finalArray,\r\n              organization: settings.organization,\r\n              project: settings.project,\r\n            }\r\n\r\n\r\n            const response = await fetch(settings.server_url, {\r\n              method: settings.server_method,\r\n              headers: {\r\n                'Content-Type': 'application/json',\r\n              },\r\n              body: JSON.stringify(finalObj)\r\n            });\r\n            console.log(response.json(), \"response\");\r\n\r\n            setFaceLoading(false)\r\n            document.getElementById(\"submit\").style.display=\"inline\"  \r\n         \r\n           handleSameFace()\r\n\r\n          }\r\n\r\n          else {\r\n            setFaceLoading(false)\r\n            document.getElementById(\"submit\").style.display=\"inline\"  \r\n            handleNotSameFace()\r\n          }\r\n        }\r\n        else {\r\n          for (var i = 1; i < 5; i++) {\r\n            if (detections[\"detection\" + i].length == 0) {\r\n              var imgEl = document.getElementById(i - 1)\r\n              imgEl.src = \"https://icons.iconarchive.com/icons/osullivanluke/orb-os-x/512/Image-Capture-icon.png\"\r\n              imgEl.style.border = \"none\"\r\n              setFaceStat(`Take Image ${i} Again`)\r\n            }\r\n          }\r\n          setFaceLoading(false)\r\n          document.getElementById(\"submit\").style.display=\"inline\"  \r\n          setTimeout(() => {\r\n            setFaceStat(\"\")\r\n          }, 3000);\r\n\r\n        }\r\n      })\r\n  }\r\n\r\n  const base64ToEl = (src) => {\r\n    var img = document.createElement(\"img\")\r\n    img.src = src\r\n    return img;\r\n  }\r\n\r\n  const calculateAngle=(A1x,A1y,A2x,A2y,B1x,B1y,B2x,B2y)=>{\r\n    var dAx = A2x - A1x;\r\n    var dAy = A2y - A1y;\r\n    var dBx = B2x - B1x;\r\n    var dBy = B2y - B1y;\r\n    console.log(A1x,A1y,A2x,A2y,B1x,B1y,B2x,B2y)\r\n    var angle = Math.atan2(dAx * dBy - dAy * dBx, dAx * dBx + dAy * dBy)\r\n    if(angle < 0) {\r\n    angle = angle * -1;\r\n    var degree_angle = angle * (180 / Math.PI);\r\n    console.log(degree_angle,\"real angle\")\r\n    return degree_angle+180\r\n  }\r\n  else{\r\n    var degree_angle = angle * (180 / Math.PI);\r\n    console.log(degree_angle,\"role angle\")\r\n    return (degree_angle+180)*-1\r\n  }\r\n  //   if(degree_angle>180){\r\n  //   return degree_angle\r\n  // }\r\n  // else{\r\n  //   return degree_angle+180\r\n  // }\r\n  }\r\n\r\n\r\n  function getImageLightness(imageSrc, callback) {\r\n    var colorSum = 0;\r\n\r\n    var data = imageSrc.data;\r\n    var r, g, b, avg;\r\n\r\n    for (var x = 0, len = data.length; x < len; x += 4) {\r\n      r = data[x];\r\n      g = data[x + 1];\r\n      b = data[x + 2];\r\n\r\n      avg = Math.floor((r + g + b) / 3);\r\n      colorSum += avg;\r\n    }\r\n\r\n    var brightness = Math.floor(colorSum / (imageSrc.width * imageSrc.height));\r\n    callback(brightness);\r\n\r\n  }\r\n\r\n  const handleInside = async (status) => {\r\n    if(status){\r\n    setInside(\"Not Inside\")\r\n    }\r\n    else{\r\n      setInside(\"\")\r\n    }\r\n  }\r\n\r\n  const handleAlign = async (status) => {\r\n    if(status){\r\n      setAlign(\"Not Aligned\")\r\n      }\r\n      else{\r\n        setAlign(\"\")\r\n      }\r\n  }\r\n\r\n  const handleClose = async (status) => {\r\n    if(status){\r\n      setClose(\"Not Close\")\r\n      }\r\n      else{\r\n        setClose(\"\")\r\n      }\r\n  }\r\n\r\n  const handleBright = async (status) => {\r\n    if(status){\r\n      setBright(\"Too Bright Or Too Dark\")\r\n      }\r\n      else{\r\n        setBright(\"\")\r\n      }\r\n  }\r\n\r\n  const handleCaptured = (src,e,canvas,images) =>{\r\n    e.target.src = src\r\n    e.target.style = \"border:4px solid green\"\r\n    canvas.getContext('2d').clearRect(0, 0, canvas.width, canvas.height);\r\n    images[e.target.id] = src;\r\n  }\r\n\r\n  const handleSameFace=()=>{\r\n    \r\n    var canvas = document.getElementById(\"canvas1\")\r\n    var ctx = canvas.getContext(\"2d\");\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n    ctx.font = \"30px Arial\";\r\n    ctx.fillStyle = \"red\";\r\n    ctx.textAlign = \"center\";\r\n    ctx.fillText(\"Thanks!\", canvas.width / 2, canvas.height / 2);\r\n    setFaceStat(\"Same Faces\")\r\n    setTimeout(() => {\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      setFaceStat(\"\")\r\n    }, 3000);;\r\n  }\r\n\r\n  const handleNotSameFace=()=>{\r\n    setFaceStat(\"Not Same\")\r\n    setTimeout(() => {\r\n      setFaceStat(\"\")\r\n    }, 3000);\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={3}\r\n        justify=\"center\">\r\n        <Grid item xs={12}>\r\n          <Paper>\r\n            <Typography variant=\"body1\">Face Registration/New</Typography>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid container spacing={3} xs={12} justify=\"center\">\r\n          <Grid item xs={4.5}>\r\n\r\n\r\n            {loading ? <CircularProgress />\r\n              :\r\n              <div className=\"row\" style={{ border: \"7px solid red\" }}><Webcam\r\n                audio={false}\r\n                height={vidHeight}\r\n                ref={webcamRef}\r\n                screenshotFormat=\"image/jpeg\"\r\n                width={vidWidth}\r\n              />\r\n                <canvas id=\"canvas\" width={vidWidth} height={vidHeight} />\r\n                <canvas id=\"canvas1\" width={vidWidth} height={vidHeight} />\r\n              </div>}\r\n\r\n\r\n\r\n\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <Paper className={classes.paper}>\r\n              <h3>Instruction Panel</h3>\r\n              <div style={{ textAlign: \"left\" }}>\r\n                {!loading && <p style={{ marginTop: \"0px\", marginBottom: \"0px\", color: \"green\", textAlign: \"center\" }}>Webcam Ready</p>}\r\n                <p style={{ marginTop: \"0px\", marginBottom: \"0px\" }}>1. Put your face inside the square box.</p>\r\n                <p style={{ marginTop: \"0px\", marginBottom: \"0px\" }}>2. Press camera icon to take picture.</p>\r\n                <p style={{ marginTop: \"0px\", marginBottom: \"0px\" }}>3. Align face in front direction.</p>\r\n                <p style={{ marginTop: \"0px\", marginBottom: \"0px\" }}>4. Make sure it is not too bright or too dark.</p>\r\n                <p style={{ marginTop: \"0px\", marginBottom: \"0px\" }}>5. Press Submit after taking all 4 images to submit images.</p>\r\n              </div>\r\n\r\n              {faceLoading ? <CircularProgress /> :\r\n                <div>\r\n                  {/* {ogImages[0]!==undefined && ogImages[1]!==undefined && ogImages[2]!==undefined && ogImages[3]!==undefined &&  */}\r\n                  <Button id=\"submit\" variant=\"contained\" color=\"primary\" onClick={matchImages} style={{ display: \"none\" }}>\r\n                    Submit\r\n</Button>\r\n                  <p>{faceStat}</p>\r\n                </div>}\r\n            </Paper>\r\n\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <Paper style={{ backgroundColor: \"red\", color: \"white\" }}>\r\n\r\n              {(inside!==\"\" || close!==\"\" || align!==\"\" || bright!==\"\") && <h6>Errors:</h6>}\r\n            <p>{inside}</p>\r\n            <p>{close}</p>\r\n            <p>{align}</p>\r\n            <p>{bright}</p>\r\n            </Paper>\r\n          </Grid>\r\n          <Grid id=\"icons-side\" item xs={5}>\r\n            <Paper>\r\n              <img src=\"https://icons.iconarchive.com/icons/osullivanluke/orb-os-x/512/Image-Capture-icon.png\" width=\"100\" height=\"100\" id=\"0\" className=\"ml-2 mt-2 mb-2\" onClick={(e) => { performChecks(e) }} />\r\n              <img src=\"https://icons.iconarchive.com/icons/osullivanluke/orb-os-x/512/Image-Capture-icon.png\" width=\"100\" height=\"100\" id=\"1\" className=\"ml-2 mt-2 mb-2\" onClick={(e) => { performChecks(e) }} />\r\n              <img src=\"https://icons.iconarchive.com/icons/osullivanluke/orb-os-x/512/Image-Capture-icon.png\" width=\"100\" height=\"100\" id=\"2\" className=\"ml-2 mt-2 mb-2\" onClick={(e) => { performChecks(e) }} />\r\n              <img src=\"https://icons.iconarchive.com/icons/osullivanluke/orb-os-x/512/Image-Capture-icon.png\" width=\"100\" height=\"100\" id=\"3\" className=\"ml-2 mt-2 mb-2\" onClick={(e) => { performChecks(e) }} />\r\n            </Paper>\r\n          </Grid>\r\n\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default Face;","import React, { useEffect } from 'react'\r\nimport Webcam from \"react-webcam\";\r\nimport * as faceapi from 'face-api.js';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { Typography } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Jimp from 'jimp'\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    justifyContent: 'center',\r\n    textAlign: 'center'\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n  },\r\n}));\r\n\r\nexport default function FaceMatch(props) {\r\n\r\n\r\n\r\n  const loadSettings=()=>{\r\n    var setting = {}\r\n    const queryString = require('query-string');\r\n    const parsed = queryString.parse(window.location.search);\r\n    if (parsed.setting) {\r\n      setting = require(\"./Settings/\" + parsed.setting)\r\n      //setting can be accessed from anywhere in the component\r\n      return setting\r\n    }\r\n    else {\r\n      setting = require(\"./Match-settings/settings.json\")\r\n      return setting\r\n     \r\n    }\r\n  \r\n  }\r\n  \r\n\r\n\r\n  const classes = useStyles();\r\n  const webcamRef = React.useRef(null);\r\n  const [settings, setSettings] = React.useState(loadSettings())\r\n  const [loading, setLoading] = React.useState(true)\r\n  const [croppedImage, setcroppedImage] = React.useState(\"\")\r\n  const [ogImage, setogImage] = React.useState(\"\")\r\n  const [inside, setInside] = React.useState(\"\")\r\n  const [close, setClose] = React.useState(\"\")\r\n  const [align, setAlign] = React.useState(\"\")\r\n  const [bright, setBright] = React.useState(\"\")\r\n  const [faceLoading, setFaceLoading] = React.useState(false)\r\n  const [faceStat, setFaceStat] = React.useState(\"\")\r\n\r\n\r\n\r\n\r\n  useEffect(async () => {\r\n    props.setTitle(\"Face Matching\")\r\n    loadModels(settings)\r\n}, [])\r\n\r\n  const loadModels = (setting) => {\r\n    Promise.all([\r\n      faceapi.loadFaceLandmarkModel('models'),\r\n      faceapi.loadTinyFaceDetectorModel('models'),\r\n      faceapi.loadFaceRecognitionModel('models'),\r\n      faceapi.loadSsdMobilenetv1Model('models')\r\n\r\n    ]).then(() => {\r\n      setLoading(false)\r\n      var c = document.getElementById(\"canvas1\")\r\n      var ctx = c.getContext(\"2d\")\r\n      ctx.strokeStyle = \"#FF0000\";\r\n      ctx.setLineDash([6]);\r\n      ctx.strokeRect((setting.vidWidth / 100) * setting.boxPercentX, (setting.vidHeight / 100) * setting.boxPercentY, setting.boxWidth * setting.vidHeight, setting.vidHeight*setting.boxHeight );\r\n      performChecks(setting)\r\n      // console.log(\"loaded\")\r\n    })\r\n  }\r\n\r\n  function performChecks(setting) {\r\n    const video = webcamRef;\r\n    //Creating a canvas to add overlay image\r\n    const canvas = document.getElementById(\"canvas\")\r\n    const displaySize = { width: setting.vidWidth, height: setting.vidHeight };\r\n    faceapi.matchDimensions(canvas, displaySize);\r\n\r\n    //Asynchronusly get detections from the video Stream\r\n    var interval = setInterval(async () => {\r\n\r\n      const detections = await faceapi\r\n        .detectAllFaces(video.current.video, new faceapi.TinyFaceDetectorOptions()) //Face Detectors\r\n        .withFaceLandmarks() // Get cordinates of landmarks\r\n      // Resize and Display the detections on the video frame using canvas\r\n      const resizedDetections = faceapi.resizeResults(detections, displaySize);\r\n      // setPrevFace(resizedDetections[0])\r\n\r\n      canvas.getContext('2d').clearRect(0, 0, canvas.width, canvas.height);\r\n      if (resizedDetections[0] && resizedDetections[0].alignedRect.score > setting.minFaceScore) {\r\n        var pTopLeft = { x: resizedDetections[0].alignedRect.box.topLeft.x, y: resizedDetections[0].alignedRect.box.topLeft.y }\r\n        var pBottomRight = { x: resizedDetections[0].alignedRect.box.bottomRight.x, y: resizedDetections[0].alignedRect.box.bottomRight.y }\r\n        var bb = { ix: (setting.vidWidth / 100) * 21, iy: (setting.vidHeight / 100) * 10, ax: (setting.vidWidth / 100) * 77, ay: (setting.vidHeight / 100) * 90 }\r\n\r\n        //checking if face is inside the box.\r\n        if ((isInside(pTopLeft, bb) && isInside(pBottomRight, bb)) || !setting.insideCheck) {\r\n          faceapi.draw.drawDetections(canvas, resizedDetections);\r\n          faceapi.draw.drawFaceLandmarks(canvas, resizedDetections);\r\n          handleInside(false)\r\n          const dist = faceapi.euclideanDistance([resizedDetections[0].landmarks.getRightEye()[0]._x, resizedDetections[0].landmarks.getRightEye()[0]._y], [resizedDetections[0].landmarks.getLeftEye()[0]._x, resizedDetections[0].landmarks.getLeftEye()[0]._y])\r\n          const slope = (resizedDetections[0].landmarks.getLeftEye()[0]._y - resizedDetections[0].landmarks.getRightEye()[0]._y) / (resizedDetections[0].landmarks.getLeftEye()[0]._x - resizedDetections[0].landmarks.getRightEye()[0]._x)\r\n          //checking if height and width are greater than 200px\r\n          if ((resizedDetections[0].alignedRect.box.width > setting.minRes && resizedDetections[0].alignedRect.box.height > setting.minRes) || !setting.closeCheck) {\r\n            handleClose(false)\r\n            //checking if face is properly aligned.\r\n            if (((dist > setting.minEyeDist && dist < setting.maxEyeDist) && (slope > setting.minSlope && slope < setting.maxSlope)) || !setting.alignCheck) {\r\n              Promise.all([\r\n                handleAlign(false)\r\n              ])\r\n                .then(() => {\r\n                  var al = resizedDetections[0].landmarks.align()\r\n                  // console.log(resizedDetections[0])\r\n                  cropAndSave(setting, al, interval, canvas)\r\n                })\r\n            }\r\n            else {\r\n              handleAlign(true)\r\n            }\r\n          }\r\n          else {\r\n            handleClose(true)\r\n          }\r\n        }\r\n        else {\r\n          handleInside(true)\r\n        }\r\n      }\r\n    }, setting.duration)\r\n\r\n  }\r\n\r\n  const isInside = (p, bb) => {\r\n    if (bb.ix <= p.x && p.x <= bb.ax && bb.iy <= p.y && p.y <= bb.ay) {\r\n      return true\r\n    }\r\n\r\n    else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  const cropAndSave = (setting, box, interval, canvas) => {\r\n    var srcimg = webcamRef.current.getScreenshot();\r\n    var fullImg = \"\"\r\n\r\n    Jimp.read(srcimg)\r\n      .then((img) => {\r\n\r\n        getImageLightness(img.bitmap, function (brightness) {\r\n          //checking if brightness is not too high and not too low.\r\n          if ((brightness > setting.minBright && brightness < setting.maxBright) || !setting.brightnessCheck) {\r\n            handleInside(false)\r\n            handleAlign(false)\r\n            handleClose(false)\r\n            handleBright(false)\r\n            img.getBase64(Jimp.AUTO, async (err, src) => {\r\n              setogImage(src)\r\n              if (src !== undefined) {\r\n                // document.getElementById(\"submit\").style.display = \"inline\"\r\n                fullImg = src\r\n              }\r\n            })\r\n            img.crop(box.x, box.y, box.width, box.height)\r\n            img.getBase64(Jimp.AUTO, async (err, src) => {\r\n              onSubmit(fullImg, setting, src)\r\n              // e.target.src = src\r\n              // e.target.style = \"border:4px solid green\"\r\n              // clearInterval(interval)\r\n              canvas.getContext('2d').clearRect(0, 0, canvas.width, canvas.height);\r\n              setcroppedImage(src);\r\n            })\r\n          }\r\n          else {\r\n            handleBright(true)\r\n          }\r\n        })\r\n\r\n      })\r\n  }\r\n\r\n\r\n  function getImageLightness(imageSrc, callback) {\r\n    var colorSum = 0;\r\n\r\n    var data = imageSrc.data;\r\n    var r, g, b, avg;\r\n\r\n    for (var x = 0, len = data.length; x < len; x += 4) {\r\n      r = data[x];\r\n      g = data[x + 1];\r\n      b = data[x + 2];\r\n\r\n      avg = Math.floor((r + g + b) / 3);\r\n      colorSum += avg;\r\n    }\r\n\r\n    var brightness = Math.floor(colorSum / (imageSrc.width * imageSrc.height));\r\n    callback(brightness);\r\n\r\n  }\r\n\r\n  const handleInside = async (status) => {\r\n    if(status){\r\n    setInside(\"Not Inside\")\r\n    }\r\n    else{\r\n      setInside(\"\")\r\n    }\r\n  }\r\n\r\n  const handleAlign = async (status) => {\r\n    if(status){\r\n      setAlign(\"Not Aligned\")\r\n      }\r\n      else{\r\n        setAlign(\"\")\r\n      }\r\n  }\r\n\r\n  const handleClose = async (status) => {\r\n    if(status){\r\n      setClose(\"Not Close\")\r\n      }\r\n      else{\r\n        setClose(\"\")\r\n      }\r\n  }\r\n\r\n  const handleBright = async (status) => {\r\n    if(status){\r\n      setBright(\"Too Bright Or Too Dark\")\r\n      }\r\n      else{\r\n        setBright(\"\")\r\n      }\r\n  }\r\n\r\n  const handleSameFace=()=>{\r\n    setFaceStat(\"Same Faces\")\r\n    setTimeout(() => {\r\n      setFaceStat(\"\")\r\n    }, 3000);\r\n  }\r\n\r\n  const handleNotSameFace=()=>{\r\n    setFaceStat(\"Not Same\")\r\n    setTimeout(() => {\r\n      setFaceStat(\"\")\r\n    }, 3000);\r\n  }\r\n\r\n  const onSubmit = async (ogImage, setting, croppedImage) => {\r\n    var sample = require(\"./sample.json\")\r\n    var src = sample.images[0].fullImg\r\n    setFaceLoading(true)\r\n    if (setting.client_matching) {\r\n      const img1 = await faceapi.detectAllFaces(base64ToEl(src), new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceDescriptors();\r\n      const img2 = await faceapi.detectAllFaces(base64ToEl(ogImage), new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceDescriptors();\r\n      const displaySize = { width: setting.vidWidth, height: setting.vidHeight };\r\n      var detections = {\r\n        detection1: faceapi.resizeResults(img1, displaySize),\r\n        detection2: faceapi.resizeResults(img2, displaySize),\r\n      }\r\n\r\n      if (detections.detection1[0] && detections.detection2[0]) {\r\n        const distance1 = faceapi.euclideanDistance(detections.detection1[0].descriptor, detections.detection2[0].descriptor);\r\n        if (distance1 < setting.faceMatchDist) {\r\n          setFaceLoading(false)\r\n          handleSameFace()\r\n          var finalObj = {\r\n            // fullImg: ogImage,\r\n            croppedImg: croppedImage,\r\n            organization: setting.organization,\r\n            project: setting.project,\r\n            matching_mode: setting.matching_mode,\r\n            client_matching: setting.client_matching,\r\n            server_matching: setting.server_matching\r\n          }\r\n\r\n          // console.log(finalObj,\"finalobj\")\r\n\r\n          const abc={\r\n            name:\"car\",\r\n            call:\"var\"\r\n          }\r\n          const response = await fetch(setting.server_url, {\r\n            method: setting.server_method,\r\n            headers: {\r\n              \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(finalObj)\r\n          });\r\n          console.log(response.json(), \"response\");\r\n\r\n        }\r\n        else {\r\n          setFaceLoading(false)\r\n     handleNotSameFace()\r\n        }\r\n      }\r\n\r\n      else {\r\n        setFaceStat(`Take Image Again`)\r\n        setFaceLoading(false)\r\n        setTimeout(() => {\r\n          setFaceStat(\"\")\r\n        }, 3000);\r\n\r\n      }\r\n\r\n\r\n    }\r\n    else {\r\n      setFaceLoading(false)\r\n      var finalObj = {\r\n        fullImg: ogImage,\r\n        croppedImg: croppedImage,\r\n        organization: setting.organization,\r\n        project: setting.project,\r\n        matching_mode: setting.matching_mode,\r\n        client_matching: setting.client_matching,\r\n        server_matching: setting.server_matching\r\n      }\r\n      const response = await fetch(setting.server_url, {\r\n        method: setting.server_method,\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n      console.log(response.json(), \"response\");\r\n\r\n    }\r\n  }\r\n\r\n  const base64ToEl = (src) => {\r\n    var img = document.createElement(\"img\")\r\n    img.src = src\r\n    return img;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={3}\r\n        justify=\"center\">\r\n\r\n        <Grid container spacing={3} item xs={12} justify=\"center\">\r\n          <Grid item xs={4.5}>\r\n\r\n\r\n            {loading ? <CircularProgress />\r\n              :\r\n              <div className=\"row\" style={{ border: \"7px solid red\" }}><Webcam\r\n                audio={false}\r\n                height={settings.vidHeight}\r\n                ref={webcamRef}\r\n                screenshotFormat=\"image/jpeg\"\r\n                width={settings.vidWidth}\r\n              />\r\n                <canvas id=\"canvas\" width={settings.vidWidth} height={settings.vidHeight} />\r\n                <canvas id=\"canvas1\" width={settings.vidWidth} height={settings.vidHeight} />\r\n              </div>}\r\n\r\n\r\n\r\n\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <Paper className={classes.paper}>\r\n              <h5>Past Result Messages</h5>\r\n              <div id=\"facestat\">\r\n                <p>{faceStat}</p>\r\n              </div>\r\n\r\n            </Paper>\r\n\r\n          </Grid>\r\n          <Grid id=\"icons-side\" item xs={8}>\r\n            <Paper style={{ backgroundColor: \"red\", color: \"white\" }}>\r\n            {(inside!==\"\" || close!==\"\" || align!==\"\" || bright!==\"\") && <h6>Errors:</h6>}\r\n            <p>{inside}</p>\r\n            <p>{close}</p>\r\n            <p>{align}</p>\r\n            <p>{bright}</p>\r\n            </Paper>\r\n          </Grid>\r\n          {/* <Grid item xs={2}>\r\n            <Paper>\r\n              <img src=\"https://icons.iconarchive.com/icons/osullivanluke/orb-os-x/512/Image-Capture-icon.png\" width=\"100\" height=\"100\" id=\"0\" className=\"ml-1\" onClick={(e) => { performChecks(e) }} />\r\n            </Paper>\r\n          </Grid> */}\r\n\r\n\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport clsx from 'clsx';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport HelpIcon from '@material-ui/icons/Help';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport FaceMatch from './face match'\r\n\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n    },\r\n    appBar: {\r\n      transition: theme.transitions.create(['margin', 'width'], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n    },\r\n    appBarShift: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      marginLeft: drawerWidth,\r\n      transition: theme.transitions.create(['margin', 'width'], {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    hide: {\r\n      display: 'none',\r\n    },\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n    },\r\n    drawerHeader: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      padding: theme.spacing(0, 1),\r\n      // necessary for content to be below app bar\r\n      ...theme.mixins.toolbar,\r\n      justifyContent: 'flex-end',\r\n    },\r\n    content: {\r\n      flexGrow: 1,\r\n      padding: theme.spacing(3),\r\n      transition: theme.transitions.create('margin', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n      marginLeft: -drawerWidth,\r\n    },\r\n    contentShift: {\r\n      transition: theme.transitions.create('margin', {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n      marginLeft: 0,\r\n    },\r\n  }));\r\n\r\nexport default function Home(props){\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleDrawerOpen = () => {\r\n        setOpen(true);\r\n      };\r\n    \r\n      const handleDrawerClose = () => {\r\n        setOpen(false);\r\n      };\r\n\r\n\r\n    return(\r\n        <>\r\n        <CssBaseline />\r\n        <AppBar\r\n          position=\"fixed\"\r\n          className={clsx(classes.appBar, {\r\n            [classes.appBarShift]: open,\r\n          })}\r\n        >\r\n          <Toolbar>\r\n            <IconButton\r\n              color=\"inherit\"\r\n              aria-label=\"open drawer\"\r\n              onClick={handleDrawerOpen}\r\n              edge=\"start\"\r\n              className={clsx(classes.menuButton, open && classes.hide)}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" noWrap>\r\n              Home\r\n            </Typography>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <Drawer\r\n          className={classes.drawer}\r\n          variant=\"persistent\"\r\n          anchor=\"left\"\r\n          open={open}\r\n          classes={{\r\n            paper: classes.drawerPaper,\r\n          }}\r\n        >\r\n          <div className={classes.drawerHeader}>\r\n            <IconButton onClick={handleDrawerClose}>\r\n              {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\r\n            </IconButton>\r\n          </div>\r\n          <Divider />\r\n          <List>\r\n          <ListItem button key={\"Home\"}>\r\n                <ListItemIcon><HomeIcon /></ListItemIcon>\r\n                <ListItemText primary={\"Home\"} />\r\n              </ListItem>\r\n              <ListItem button key={\"Face Registration\"}>\r\n                <ListItemIcon><AccountCircleIcon /></ListItemIcon>\r\n                <ListItemText primary={\"Face Registration\"} />\r\n              </ListItem>\r\n              <ListItem button key={\"Settings\"}>\r\n                <ListItemIcon><SettingsIcon /></ListItemIcon>\r\n                <ListItemText primary={\"Settings\"} />\r\n              </ListItem>\r\n              <ListItem button key={\"Help\"}>\r\n                <ListItemIcon><HelpIcon /></ListItemIcon>\r\n                <ListItemText primary={\"Help\"} />\r\n              </ListItem>\r\n          </List>\r\n        </Drawer>\r\n\r\n        <div style={{marginTop:\"6%\"}}>\r\n        <FaceMatch setTitle={props.setTitle}/>\r\n\r\n        </div>\r\n        </>\r\n    \r\n    )\r\n}","import React,{useEffect,useState} from 'react'\r\nimport {Grid,Typography,Paper} from '@material-ui/core';\r\n\r\nexport default function Help(props){\r\n\r\nconst [help,setHelp]=useState(require(\"./Help/help.json\"))   \r\n\r\nuseEffect(()=>{\r\n    props.setTitle(\"Help\")\r\n\r\n})\r\n\r\n\r\nreturn(\r\n    <div>\r\n        <Grid\r\n  container\r\n  spacing={0}\r\n  direction=\"column\"\r\n  alignItems=\"center\"\r\n  justify=\"center\"\r\n  style={{ minHeight: '100vh' }}\r\n  spacing={3}\r\n>\r\n  {help.helpArray.map((v,i)=>{\r\n      return(\r\n         <Grid item xs={7}>\r\n           <Paper style={{padding:\"20px\"}}>\r\n          <Typography variant=\"h6\">\r\n              {v.title}\r\n          </Typography>\r\n          <Typography variant=\"h7\">\r\n              {v.para}\r\n          </Typography>\r\n          </Paper>\r\n          </Grid>\r\n      \r\n          )\r\n  })}  \r\n</Grid>\r\n    </div>\r\n)\r\n}","import React,{useState,useEffect} from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { Typography } from '@material-ui/core';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    table: {\r\n      maxWidth:650\r\n    },\r\n  });\r\n\r\n\r\nexport default function Setting(props){\r\n    const classes = useStyles();\r\n\r\n    const [Regsetting,setRegSetting] = useState(require(\"./Settings/settings.json\"))\r\n    const [Matsetting,setMatSetting] = useState(require(\"./Match-settings/settings.json\"))\r\n\r\n    useEffect(()=>{\r\n        props.setTitle(\"Settings\")\r\n    \r\n    })\r\n\r\n    return(\r\n        <div style={{marginTop:\"6%\"}}>\r\n            <Grid\r\n  container\r\n  direction=\"row\"\r\n  alignItems=\"center\"\r\n  justify=\"center\"\r\n  alignItems=\"stretch\"\r\n  spacing={3}\r\n>\r\n    <Grid item xs={4}>\r\n              <TableContainer component={Paper}>\r\n                  <Typography variant=\"h6\" align=\"center\">Registration Settings</Typography>\r\n      <Table className={classes.table} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Setting</TableCell>\r\n            <TableCell>Value</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {Object.entries(Regsetting).map((row,i)=>{\r\n              return(\r\n<TableRow key={i}>\r\n    <TableCell component=\"th\" scope=\"row\">\r\n        {row[0]}\r\n    </TableCell>\r\n    <TableCell component=\"th\" scope=\"row\">\r\n        {row[1].toString()}\r\n    </TableCell>\r\n</TableRow>\r\n)\r\n          })}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n    </Grid>\r\n\r\n    <Grid item xs={4}>\r\n              <TableContainer component={Paper}>\r\n                  <Typography variant=\"h6\" align=\"center\">Face Match Settings</Typography>\r\n      <Table className={classes.table} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Setting</TableCell>\r\n            <TableCell>Value</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {Object.entries(Matsetting).map((row,i)=>{\r\n              return(\r\n<TableRow key={i}>\r\n    <TableCell component=\"th\" scope=\"row\">\r\n        {row[0]}\r\n    </TableCell>\r\n    <TableCell component=\"th\" scope=\"row\">\r\n    {row[1].toString()}\r\n    </TableCell>\r\n</TableRow>\r\n)\r\n          })}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n    </Grid>\r\n    </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React,{useState,Fragment,useEffect } from 'react';\nimport './App.css';\nimport {BrowserRouter as Router, Route, Switch,Link} from 'react-router-dom'\nimport { createBrowserHistory } from \"history\";\nimport Form1 from './Components/form-materialui'\nimport Face from './Components/face'\nimport FaceMatch from './Components/face match'\nimport Home from './Components/Home'\nimport Help from './Components/Help'\nimport Settings from \"./Components/Settings\"\nimport { withStyles,useTheme } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport HomeIcon from '@material-ui/icons/Home';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport HelpIcon from '@material-ui/icons/Help';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport Typography from '@material-ui/core/Typography';\nimport {MDBContainer,MDBFooter} from \"mdbreact\";\n\n\nconst drawerWidth = 240;\nconst history = createBrowserHistory();\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1\n  },\n  flex: {\n    flex: 1\n  },\n  drawerPaper: {\n    position: \"absolute\",\n    width: drawerWidth\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20\n  },\n  toolbarMargin: theme.mixins.toolbar,\n  aboveDrawer: {\n    zIndex: theme.zIndex.drawer-1\n  }\n});\n\n\nconst MyToolbar = withStyles(styles)(\n  ({ classes, title, onMenuClick }) => (\n    <Fragment>\n      <AppBar className={classes.aboveDrawer}>\n        <Toolbar>\n          <IconButton\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"Menu\"\n            onClick={onMenuClick}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography\n            variant=\"h6\"\n            color=\"inherit\"\n            className={classes.flex}\n          >\n            {title}\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      {/* <div className={classes.toolbarMargin} /> */}\n    </Fragment>\n  )\n);\n\n\nconst MyDrawer = withStyles(styles)(\n  ({ classes, open, onClose, onItemClick,theme,setTitle }) => (\n<Router history={history}>\n\n<CssBaseline />\n        <Drawer\n          className={classes.drawer}\n          variant=\"persistent\"\n          anchor=\"left\"\n          open={open}\n          onClose={onClose}\n          classes={{\n            paper: classes.drawerPaper,\n          }}\n        >\n          <div className={classes.drawerHeader}>\n            <IconButton onClick={onClose}>\n              {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\n            </IconButton>\n          </div>\n          <Divider />\n          <List>\n          <ListItem button key={\"Home\"} onClick={()=>onItemClick('Home','/')}>\n                <ListItemIcon><HomeIcon /></ListItemIcon>\n                <ListItemText primary={\"Home\"} />\n              </ListItem>\n              <ListItem button key={\"Face Registration\"} onClick={()=>onItemClick('Face Registration',\"/form\")}>\n                <ListItemIcon><AccountCircleIcon /></ListItemIcon>\n                <ListItemText primary={\"Face Registration\"} />\n              </ListItem>\n              <ListItem button key={\"Settings\"} onClick={()=>onItemClick('Settings','/settings')}>\n                <ListItemIcon><SettingsIcon /></ListItemIcon>\n                <ListItemText primary={\"Settings\"} />\n              </ListItem>\n              <ListItem button key={\"Help\"} onClick={()=>onItemClick('Help','/help')}>\n                <ListItemIcon><HelpIcon /></ListItemIcon>\n                <ListItemText primary={\"Help\"} />\n              </ListItem>\n          </List>\n        </Drawer>\n  <Switch>\n\n  <Route exact path=\"/face\">\n    <Face setTitle={setTitle}/>\n  </Route>\n\n  <Route exact path=\"/\">\n    <Home setTitle={setTitle}/>\n  </Route>\n\n  <Route exact path=\"/form\">\n    <Form1 setTitle={setTitle}/>\n  </Route>\n\n  <Route exact path=\"/face-match\">\n    <FaceMatch setTitle={setTitle}/>\n  </Route>\n  <Route exact path=\"/help\">\n    <Help setTitle={setTitle}/>\n  </Route>\n  <Route exact path=\"/settings\">\n    <Settings setTitle={setTitle}/>\n  </Route>\n  </Switch>\n\n  <div className=\"footer-copyright text-center py-3\" style={{backgroundColor:\"#3F51B5\",marginTop:\"20px\",color:\"white\"}}>\n        <MDBContainer fluid>\n          &copy; {new Date().getFullYear()} Copyright: Abc\n        </MDBContainer>\n      </div>\n    \n\n\n</Router>\n\n  ))\n\n\nfunction App() {\n\n  const [drawer, setDrawer] = useState(false);\n  const [title, setTitle] = useState('');\n  const theme = useTheme();\n\n  const setTitles=(titles)=>{\n    setTitle(titles)\n  }\n\n \n\n  const onItemClick = (title,route) => {\n    setDrawer(drawer);\n    setDrawer(!drawer);\n    history.push(route)\n    history.go(0)\n  };\n\n  const toggleDrawer = () => {\n    setDrawer(!drawer);\n  }\n\n  return (\n<div>\n      <MyToolbar title={title} onMenuClick={toggleDrawer} />\n      <MyDrawer\n        open={drawer}\n        onClose={toggleDrawer}\n        onItemClick={onItemClick}\n        theme={theme}\n        setTitle={setTitles}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport '@fortawesome/fontawesome-free/css/all.min.css'; \nimport 'bootstrap-css-only/css/bootstrap.min.css'; \nimport 'mdbreact/dist/css/mdb.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}